#!/usr/bin/env node

var ronin = require('ronin');
var path = require('path');
var chalk = require('chalk');
var program = ronin(path.join(__dirname, '..'));

// prints backbase ascii logo
// require('../lib/util').backbase()

// Changing the limit for listeners, since we work ofter with remote calls
require('events').EventEmitter.prototype._maxListeners = 100;

program.autoupdate(function () {
    try {
        program.run();
    } catch(e){
        console.log(chalk.red('Error running command. Please check the stacktrace or the help section "bb -h".\n'));
        console.log(e.stack);
    }
});
